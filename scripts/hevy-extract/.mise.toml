[tools]
"yq" = "latest"
"bun" = "latest"

[tasks.export]
description = "Extract Hevy OpenAPI spec and export as YAML to packages/api-service/openapi/"
run = [
  "bun run extract.ts extract -o openapi.json",
  'yq -p json -o yaml . openapi.json > "$MONOREPO_ROOT/packages/api-service/openapi/hevy.openapi.yaml"',
  'echo "Exported to packages/api-service/openapi/hevy.openapi.yaml"',
]
